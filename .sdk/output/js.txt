let totalMessages = 0
let messagesLimit = 30
window.addEventListener("onEventReceived", async function (obj) {
    // @ts-ignore
    controller(obj.detail)
}) /**
 * @param {SEDK.Detail} detail
 */
/**
 * @param {SEDK.Detail} detail
 */
function controller(detail) {
    totalMessages++
    switch (detail.listener) {
        case "message":
            addMessage(detail.event.renderedText, detail.event.data.displayName, totalMessages, detail.event.data)
            break // case "cheer-latest":
        //     addAlert("HAS CHEERED", detail.event.name, detail.event.amount)
        //     break
    }
}
function addMessage(message, username, messageId, userInfo) {
    let randomNum = Math.floor(Math.random() * 1000)
    const elem = document.createElement("div")
    elem.innerHTML = `<div class="message">
    <div>username</div>
    <span>${message}</span>
    <span>Random num: ${randomNum}</span>
</div>
`
    document.getElementById("main-container").appendChild(elem)
    console.log("Successfully appended message to the DOM " + message)
}
